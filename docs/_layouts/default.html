<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{ page.title }}</title>
    <link rel="stylesheet" href="{{ site.baseurl }}/css/style.css">
    <script
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"
    type="text/javascript">
</script>
  </head>
  <body>
    <nav>
      <!-- stage:nav-start -->
      <a href="{{ site.baseurl }}/">Home</a>
      <a href="{{ site.baseurl }}/setup/">Setup</a>
      <a href="{{ site.baseurl }}/episodes/">Episodes</a>
      <a href="{{ site.baseurl }}/cookbook/">Cookbook</a>
      <a href="{{ site.baseurl }}/talks/">Talks</a>
      <a href="{{ site.baseurl }}/reference/">Reference</a>
      <a href="{{ site.baseurl }}/data/">Data</a>
      <a href="{{ site.baseurl }}/resources/">Resources</a>
      <a href="{{ site.baseurl }}/credits/">Credits</a>
      <!-- stage:nav-end -->
    </nav>
    <h1>{{ page.title }}</h1>
    <section>
      {{ content }}
    </section>
    <footer>
      <div class="footer__logos" aria-label="Collaborators">
        <a href="https://cozyme.eu/">
          <img src="{{ site.baseurl }}/figures/logo-cozyme-160x34.png" alt="COZYME COST Action">
        </a>
        <img src="{{ site.baseurl }}/figures/COST_LOGO_white_tranparent_small-300x93.png" alt="COST Actions">
        <img src="{{ site.baseurl }}/figures/logo-conicyt-chile-en-marcha.png" alt="Fondecyt">
        <a href="https://iris-cc.cat/">
          <img src="{{ site.baseurl }}/figures/iris-cc-logo.png" alt="IRIS-CC">
        </a>
        <a href="https://mon.uvic.cat/fcte/">
          <img src="{{ site.baseurl }}/figures/FCTE.png" alt="FCTE">
        </a>
      </div>
      <div class="footer__links">
        &copy; <a href="https://mon.uvic.cat/cbbl/">Computational Biochemistry and Biophysics Lab</a>
      </div>
      <div class="footer__copy">&copy; MD Course - UNAB / UVic</div>
    </footer>
    <script type="text/javascript">
      (function () {
        var copyIcon = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15 3H6a2 2 0 0 0-2 2v9h2V5h9V3zm3 4H10a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zm0 12h-8V9h8v10z"/></svg>';
        var doneIcon = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M9.2 16.2 5.5 12.5l1.4-1.4 2.3 2.3 7.2-7.2 1.4 1.4-8.6 8.6z"/></svg>';
        var errorIcon = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm4.2 13.8-1.4 1.4L12 13.4l-2.8 2.8-1.4-1.4L10.6 12 7.8 9.2l1.4-1.4L12 10.6l2.8-2.8 1.4 1.4L13.4 12z"/></svg>';

        function setCopyState(button, state, timeoutMs) {
          if (button.copyTimeoutId) {
            clearTimeout(button.copyTimeoutId);
          }

          if (state === 'done') {
            button.classList.add('copy-button--done');
            button.classList.remove('copy-button--error');
            button.setAttribute('aria-label', 'Code copied');
            button.innerHTML = doneIcon;
          } else if (state === 'error') {
            button.classList.add('copy-button--error');
            button.classList.remove('copy-button--done');
            button.setAttribute('aria-label', 'Copy error');
            button.innerHTML = errorIcon;
          } else {
            button.classList.remove('copy-button--done');
            button.classList.remove('copy-button--error');
            button.setAttribute('aria-label', 'Copy code block');
            button.innerHTML = copyIcon;
          }

          if (timeoutMs) {
            button.copyTimeoutId = setTimeout(function () {
              setCopyState(button, 'default');
            }, timeoutMs);
          }
        }

        function copyText(text) {
          if (navigator.clipboard && navigator.clipboard.writeText) {
            return navigator.clipboard.writeText(text);
          }
          return new Promise(function (resolve, reject) {
            var textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.setAttribute('readonly', '');
            textarea.style.position = 'absolute';
            textarea.style.left = '-9999px';
            document.body.appendChild(textarea);
            textarea.select();
            try {
              document.execCommand('copy');
              resolve();
            } catch (err) {
              reject(err);
            } finally {
              document.body.removeChild(textarea);
            }
          });
        }

        function addCopyButtons() {
          document.querySelectorAll('pre > code').forEach(function (codeBlock) {
            var pre = codeBlock.parentNode;
            if (pre.querySelector('.copy-button')) {
              return;
            }

            var button = document.createElement('button');
            button.type = 'button';
            button.className = 'copy-button';
            setCopyState(button, 'default');

            button.addEventListener('click', function () {
              var text = codeBlock.innerText;
              copyText(text).then(function () {
                setCopyState(button, 'done', 1500);
              }).catch(function () {
                setCopyState(button, 'error', 1500);
              });
            });

            pre.appendChild(button);
          });
        }

        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', addCopyButtons);
        } else {
          addCopyButtons();
        }
      })();
    </script>
  </body>
</html>
